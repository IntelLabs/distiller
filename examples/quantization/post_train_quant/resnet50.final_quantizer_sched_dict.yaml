# This file was generated by ptq_greedy_search script:
# time python -m distiller.ptq_greedy_search -a resnet50 --pretrained -j 22 <path to imagenet> \
#  --batch-size 1024 --qe-calib-portion 1 --qe-calib-batchsize 256 --quantize-inputs conv1#0
#  --qe-stats-file resnet50_act_stats.yaml
#
# This was tested against compress_classifier script:
# python compress_classifier.py -a resnet50 -p 10 -j 22 <path to imagenet> --pretrained --evaluate --quantize-eval \
#  --qe-config-file ../quantization/post_train_quant/resnet50.final_quantizer_sched_dict.yaml
#
# results:
# Top1: 75.566    Top5: 92.556    Loss: 0.988
quantizers:
  post_train_quantizer:
    bits_activations: null
    scale_approx_mult_bits: null
    bits_parameters: null
    clip_acts: NONE
    clip_n_stds: null
    bits_accum: 32
    mode: ASYMMETRIC_SIGNED
    clip_half_range: false
    per_channel_wts: false
    inputs_quant_auto_fallback: false
    fp16: false
    overrides:
      conv1:
        input_overrides:
          0:
            bits_activations: 8
            clip_acts: NONE
        bits_activations: 8
        bits_weights: 8
        bits_bias: 32
        clip_acts: GAUSS
        clip_half_range: true
      relu:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      maxpool:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer1.0.downsample.0:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: LAPLACE
        clip_half_range: false
      layer1.0.conv1:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: NONE
        clip_half_range: false
      layer1.0.relu1:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: LAPLACE
        clip_half_range: false
      layer1.0.conv2:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: LAPLACE
        clip_half_range: true
      layer1.0.relu2:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer1.0.conv3:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: LAPLACE
        clip_half_range: false
      layer1.0.add:
        fpq_module: null
        fake: false
        bits_weights: 8
        bits_activations: 8
        clip_acts: GAUSS
        clip_half_range: true
      layer1.0.relu3:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: LAPLACE
        clip_half_range: false
      layer1.1.conv1:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer1.1.relu1:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: LAPLACE
        clip_half_range: false
      layer1.1.conv2:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: LAPLACE
        clip_half_range: true
      layer1.1.relu2:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: GAUSS
        clip_half_range: false
      layer1.1.conv3:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer1.1.add:
        fpq_module: null
        fake: false
        bits_weights: 8
        bits_activations: 8
        clip_acts: GAUSS
        clip_half_range: true
      layer1.1.relu3:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer1.2.conv1:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: NONE
        clip_half_range: false
      layer1.2.relu1:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer1.2.conv2:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer1.2.relu2:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer1.2.conv3:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer1.2.add:
        fpq_module: null
        fake: false
        bits_weights: 8
        bits_activations: 8
        clip_acts: GAUSS
        clip_half_range: true
      layer1.2.relu3:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer2.0.downsample.0:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer2.0.conv1:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: LAPLACE
        clip_half_range: true
      layer2.0.relu1:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: NONE
        clip_half_range: false
      layer2.0.conv2:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer2.0.relu2:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: NONE
        clip_half_range: false
      layer2.0.conv3:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: LAPLACE
        clip_half_range: false
      layer2.0.add:
        fpq_module: null
        fake: false
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer2.0.relu3:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: NONE
        clip_half_range: false
      layer2.1.conv1:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: GAUSS
        clip_half_range: true
      layer2.1.relu1:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: LAPLACE
        clip_half_range: false
      layer2.1.conv2:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: NONE
        clip_half_range: false
      layer2.1.relu2:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: LAPLACE
        clip_half_range: false
      layer2.1.conv3:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer2.1.add:
        fpq_module: null
        fake: false
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer2.1.relu3:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer2.2.conv1:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: NONE
        clip_half_range: false
      layer2.2.relu1:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: NONE
        clip_half_range: false
      layer2.2.conv2:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: LAPLACE
        clip_half_range: true
      layer2.2.relu2:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer2.2.conv3:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer2.2.add:
        fpq_module: null
        fake: false
        bits_weights: 8
        bits_activations: 8
        clip_acts: NONE
        clip_half_range: false
      layer2.2.relu3:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: LAPLACE
        clip_half_range: false
      layer2.3.conv1:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer2.3.relu1:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: NONE
        clip_half_range: false
      layer2.3.conv2:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: NONE
        clip_half_range: false
      layer2.3.relu2:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: GAUSS
        clip_half_range: false
      layer2.3.conv3:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: LAPLACE
        clip_half_range: false
      layer2.3.add:
        fpq_module: null
        fake: false
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer2.3.relu3:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer3.0.conv1:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: LAPLACE
        clip_half_range: true
      layer3.0.downsample.0:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: LAPLACE
        clip_half_range: false
      layer3.0.relu1:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer3.0.conv2:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: NONE
        clip_half_range: false
      layer3.0.relu2:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: NONE
        clip_half_range: false
      layer3.0.conv3:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer3.0.add:
        fpq_module: null
        fake: false
        bits_weights: 8
        bits_activations: 8
        clip_acts: LAPLACE
        clip_half_range: true
      layer3.0.relu3:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer3.1.conv1:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer3.1.relu1:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer3.1.conv2:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer3.1.relu2:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: NONE
        clip_half_range: false
      layer3.1.conv3:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: GAUSS
        clip_half_range: false
      layer3.1.add:
        fpq_module: null
        fake: false
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer3.1.relu3:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: NONE
        clip_half_range: false
      layer3.2.conv1:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: NONE
        clip_half_range: false
      layer3.2.relu1:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: GAUSS
        clip_half_range: false
      layer3.2.conv2:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: GAUSS
        clip_half_range: true
      layer3.2.relu2:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: LAPLACE
        clip_half_range: false
      layer3.2.conv3:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: LAPLACE
        clip_half_range: false
      layer3.2.add:
        fpq_module: null
        fake: false
        bits_weights: 8
        bits_activations: 8
        clip_acts: LAPLACE
        clip_half_range: true
      layer3.2.relu3:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer3.3.conv1:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: NONE
        clip_half_range: false
      layer3.3.relu1:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: GAUSS
        clip_half_range: false
      layer3.3.conv2:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: LAPLACE
        clip_half_range: true
      layer3.3.relu2:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: NONE
        clip_half_range: false
      layer3.3.conv3:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: LAPLACE
        clip_half_range: false
      layer3.3.add:
        fpq_module: null
        fake: false
        bits_weights: 8
        bits_activations: 8
        clip_acts: GAUSS
        clip_half_range: true
      layer3.3.relu3:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: LAPLACE
        clip_half_range: false
      layer3.4.conv1:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer3.4.relu1:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer3.4.conv2:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: NONE
        clip_half_range: false
      layer3.4.relu2:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: GAUSS
        clip_half_range: false
      layer3.4.conv3:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer3.4.add:
        fpq_module: null
        fake: false
        bits_weights: 8
        bits_activations: 8
        clip_acts: LAPLACE
        clip_half_range: true
      layer3.4.relu3:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: NONE
        clip_half_range: false
      layer3.5.conv1:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: LAPLACE
        clip_half_range: true
      layer3.5.relu1:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: LAPLACE
        clip_half_range: false
      layer3.5.conv2:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: GAUSS
        clip_half_range: true
      layer3.5.relu2:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer3.5.conv3:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: LAPLACE
        clip_half_range: false
      layer3.5.add:
        fpq_module: null
        fake: false
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer3.5.relu3:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: NONE
        clip_half_range: false
      layer4.0.conv1:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: NONE
        clip_half_range: false
      layer4.0.downsample.0:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: NONE
        clip_half_range: false
      layer4.0.relu1:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer4.0.conv2:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: LAPLACE
        clip_half_range: true
      layer4.0.relu2:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: NONE
        clip_half_range: false
      layer4.0.conv3:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: NONE
        clip_half_range: false
      layer4.0.add:
        fpq_module: null
        fake: false
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer4.0.relu3:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer4.1.conv1:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: LAPLACE
        clip_half_range: true
      layer4.1.relu1:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: NONE
        clip_half_range: false
      layer4.1.conv2:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer4.1.relu2:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: LAPLACE
        clip_half_range: false
      layer4.1.conv3:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer4.1.add:
        fpq_module: null
        fake: false
        bits_weights: 8
        bits_activations: 8
        clip_acts: LAPLACE
        clip_half_range: true
      layer4.1.relu3:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: NONE
        clip_half_range: false
      layer4.2.conv1:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: NONE
        clip_half_range: false
      layer4.2.relu1:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: NONE
        clip_half_range: false
      layer4.2.conv2:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer4.2.relu2:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer4.2.conv3:
        bits_bias: 32
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer4.2.add:
        fpq_module: null
        fake: false
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      layer4.2.relu3:
        fpq_module: 32
        fake: true
        bits_weights: 8
        bits_activations: 8
        clip_acts: AVG
        clip_half_range: false
      avgpool:
        fpq_module: 32
        fake: false
        bits_weights: 8
        bits_activations: 8
        clip_acts: GAUSS
        clip_half_range: true
      fc:
        input_overrides:
          0:
            bits_activations: 8
            clip_acts: NONE
        bits_bias: 32
        bits_activations: 8
        bits_weights: 8
        clip_acts: NONE
        clip_half_range: false
    model_activation_stats: /data/home/cvds_lab/lev_z/distiller/distiller/quantization/resnet50_act_stats.yaml
    class: PostTrainLinearQuantizer
